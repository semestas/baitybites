<!DOCTYPE html>
<html lang="id">

<head>
    <title>Pesan Risol Mayo - Baitybites</title>
    <meta name="description"
        content="Pilih varian Risol Mayo favorit Anda dan pesan secara online dengan mudah. Nikmati promo gratis ongkir dan layanan pengiriman cepat dari Baitybites!">
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
<meta name="theme-color" content="#f59638">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Exo:wght@400;600;700;800&display=swap"
    rel="stylesheet">
<link rel="stylesheet" href="/css/style.css?v=1.7.1">
<script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="bg-neutral-50">
    <div class="page-wrapper">
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <a href="/" class="logo">
                        <img src="/assets/logo.png" alt="Baitybites Logo" class="h-50">
                    </a>
                    <nav class="nav" id="mainNav"></nav>
                </div>
            </div>
        </header>

        <main class="main-content order-main-content">
            <div class="container order-page-container">
                <!-- Loyalty Benefits Notice -->
                <div id="loyalty-notice" class="info-box mb-4 animate-fade-in hidden">
                    <div class="notice-content">
                        <div class="notice-icon"><i data-lucide="sparkles"></i></div>
                        <div class="flex-1">
                            <p class="notice-title">Mau Checkout Lebih Cepat?</p>
                            <p class="notice-text">Login dengan Google untuk auto-fill data pengiriman dan nikmati promo
                                Gratis Ongkir!</p>
                            <div class="mt-3">
                                <button type="button" onclick="loginWithGoogle()"
                                    class="btn btn-primary btn-sm flex items-center gap-2"
                                    style="background: white; color: var(--neutral-800); border: 1px solid var(--neutral-200);">
                                    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg"
                                        alt="Google" style="width: 16px;">
                                    <span>Lanjut dengan Google</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Category Navigation -->
                <div class="category-tabs" id="categoryTabs">
                    <div class="category-tab active" onclick="filterProducts('Risol')">Risol</div>
                    <div class="category-tab" onclick="filterProducts('Kue Kering')">Kue Kering</div>
                    <div class="category-tab" onclick="filterProducts('Kue Oven')">Kue Oven</div>
                </div>

                <!-- Product Grid -->
                <div id="productList" class="product-grid">
                    <div class="spinner product-spinner"></div>
                </div>

                <!-- Order Summary Modal -->
                <div id="order-confirmation-section" class="modal-overlay animate-fade-in hidden">
                    <div class="modal order-modal animate-scale-up">
                        <div class="modal-header">
                            <h2 class="text-center w-full">Ringkasan Pesanan</h2>
                            <button type="button" class="btn-close" onclick="backToProductList()">
                                <i data-lucide="x"></i>
                            </button>
                        </div>

                        <div class="modal-body">
                            <div class="checkout-layout-grid">
                                <div class="checkout-summary-column">
                                    <div class="order-summary-box">
                                        <div class="summary-table">
                                            <div class="summary-table-header">
                                                <div class="summary-table-header-text">Product</div>
                                                <div class="summary-table-header-text">QTY</div>
                                                <div class="summary-table-header-text">Total</div>
                                            </div>
                                            <div id="summary-items">
                                                <!-- Filled by JS -->
                                            </div>
                                        </div>

                                        <div class="summary-footer">
                                            <div class="footer-row">
                                                <span>Total Pesanan</span>
                                                <span id="summary-subtotal">Rp 0</span>
                                            </div>
                                            <div class="footer-row">
                                                <span>Ongkir</span>
                                                <span>Rp 0</span>
                                            </div>
                                            <div class="footer-row total-row">
                                                <span>Total</span>
                                                <span id="summary-total">Rp 0</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="checkout-form-column">
                                    <!-- Customer Info Preview -->
                                    <div id="customer-info-preview" class="animate-fade-in hidden">
                                        <div class="preview-header">
                                            <div class="preview-title-wrapper">
                                                <h3 class="preview-title">Data Pengiriman</h3>
                                                <span class="preview-badge">Sudah Disimpan</span>
                                            </div>
                                            <button type="button" onclick="showOrderFormEdit()"
                                                class="btn btn-outline btn-sm">
                                                Ubah
                                            </button>
                                        </div>

                                        <div class="preview-grid">
                                            <div class="preview-item">
                                                <label>Nama Lengkap</label>
                                                <div id="preview-name" class="preview-value">-</div>
                                            </div>
                                            <div class="preview-item">
                                                <label>Nomor WhatsApp</label>
                                                <div id="preview-phone" class="preview-value">-</div>
                                            </div>
                                            <div class="preview-item full-width">
                                                <label>Alamat Tujuan</label>
                                                <div id="preview-address" class="preview-value address">-</div>
                                            </div>
                                        </div>
                                    </div>

                                    <form id="orderForm">
                                        <!-- Quick Login for Faster Info -->
                                        <div id="quick-login-prompt"
                                            class="card p-3 mb-4 flex items-center justify-between gap-3 hidden"
                                            style="background: #f8fafc; border: 1px dashed var(--neutral-300);">
                                            <div class="flex items-center gap-2">
                                                <i data-lucide="info" style="width: 16px; color: var(--primary);"></i>
                                                <span class="text-sm font-medium">Malas isi manual?</span>
                                            </div>
                                            <button type="button" onclick="loginWithGoogle()" class="btn btn-sm"
                                                style="background: white; border: 1px solid var(--neutral-200); font-size: 0.75rem; padding: 0.4rem 0.8rem; display: flex; align-items: center; gap: 0.5rem;">
                                                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg"
                                                    alt="Google" style="width: 14px;">
                                                <span>Google Login</span>
                                            </button>
                                        </div>

                                        <div id="customer-form-fields">
                                            <div class="card p-4 mb-4">
                                                <div class="grid grid-2">
                                                    <div class="form-group">
                                                        <label class="form-label">Nama Lengkap</label>
                                                        <input type="text" id="name" class="form-input"
                                                            placeholder="Nama Anda" required>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="form-label">Nomor WhatsApp</label>
                                                        <input type="tel" id="phone" class="form-input"
                                                            placeholder="08..." required>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="form-label">Email</label>
                                                    <input type="email" id="email" class="form-input"
                                                        placeholder="email@contoh.com" required>
                                                </div>

                                                <div class="form-group">
                                                    <label class="form-label">Alamat Pengiriman</label>
                                                    <textarea id="address" class="form-textarea"
                                                        placeholder="Alamat lengkap" required></textarea>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">Catatan Tambahan (Opsional)</label>
                                            <input type="text" id="notes" class="form-input"
                                                placeholder="Contoh: Sambal dipisah">
                                        </div>

                                        <div class="mt-4 flex flex-col gap-2">
                                            <button type="submit" class="btn btn-primary btn-lg w-full">
                                                <span id="btnText">Bayar Sekarang</span>
                                                <div id="btnSpinner" class="spinner btn-spinner wh-20 hidden"></div>
                                            </button>
                                            <button type="button" onclick="backToProductList()"
                                                class="btn btn-outline btn-lg w-full">
                                                Kembali Pilih Produk
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sticky Order Summary Bar -->
                <div id="stickySummaryBar" class="order-summary-bar">
                    <div class="summary-content">
                        <div class="summary-details">
                            <div class="summary-item">
                                <span class="label">Total Pesanan</span>
                                <span class="value" id="stickyTotal">Rp 0</span>
                            </div>
                            <div class="summary-item">
                                <span class="label">Item Terpilih</span>
                                <span class="value" id="stickyCount">0 Items</span>
                            </div>
                        </div>
                        <button type="button" class="btn-checkout" onclick="proceedToConfirmation()">
                            Lanjut Checkout
                        </button>
                    </div>
                </div>

                <!-- Resume Cart Warning -->
                <div id="resume-cart-warning" class="resume-cart-warning mt-4 animate-fade-in hidden">
                    <div class="card"
                        style="background: #fffbeb; border: 1px solid #fde68a; padding: 1.5rem; border-radius: 1rem; display: flex; flex-direction: column; gap: 1rem; color: #92400e; box-shadow: var(--shadow-sm);">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <i data-lucide="shopping-cart" style="color: #d97706; flex-shrink: 0;"></i>
                            <p style="margin: 0; font-size: 0.95rem; font-weight: 600; line-height: 1.5;">
                                Anda memiliki item yang tersisa di keranjang. Ingin melanjutkan checkout sekarang?
                            </p>
                        </div>
                        <div style="display: flex; gap: 0.75rem; justify-content: flex-end;">
                            <button type="button" class="btn btn-sm btn-outline"
                                style="border-color: #f59e0b; color: #d97706; font-weight: 700; padding: 0.5rem 1rem;"
                                onclick="window.clearCartConfirm()">Hapus Keranjang</button>
                            <button type="button" class="btn btn-sm btn-primary"
                                style="background: #d97706; border: none; font-weight: 700; padding: 0.5rem 1rem;"
                                onclick="window.proceedToConfirmation()">Lanjutkan Checkout</button>
                        </div>
                    </div>
                </div>

                <!-- Recent Orders for Logged-in Users -->
                <div id="recentOrdersSection" class="recent-orders-section animate-fade-in hidden">
                    <div class="recent-orders-list">
                        <div class="flex recent-orders-header gap-2 items-center cursor-pointer"
                            onclick="toggleRecentOrders()">
                            <div class="flex items-center gap-2">
                                <i id="recentOrdersChevron" data-lucide="chevron-up" class="transition-transform"></i>
                                <div class="recent-orders-title no-margin">Pesanan Terbaru Anda</div>
                            </div>
                            <button onclick="event.stopPropagation(); loadRecentOrders(this)"
                                class="btn btn-outline btn-sm" title="Refresh Data">
                                <i data-lucide="refresh-cw"></i>
                            </button>
                        </div>
                        <div id="recentOrdersBody" class="recent-orders-body transition-all">
                            <div id="recentOrdersList" class="flex flex-wrap gap-2">
                                <p class="text-center text-muted">Memuat pesanan...</p>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Redesigned Success Modal -->
                <div id="successModal" class="modal-overlay hidden">
                    <div class="modal animate-scale-up success-modal-compact">
                        <div class="modal-header">
                            <div class="icon-wrapper">
                                <i data-lucide="party-popper" size="48"></i>
                            </div>
                            <h2>Pesanan Berhasil!</h2>
                            <p>Terima kasih telah memesan di Baitybites</p>
                        </div>

                        <div class="modal-body">
                            <p class="text-muted text-sm text-center mb-4">
                                Silakan simpan nomor order Anda untuk melacak proses produksi & pengiriman.
                            </p>

                            <div class="info-box-compact">
                                <div class="info-row-compact">
                                    <span class="label">Nomor Order</span>
                                    <div class="value-wrapper">
                                        <span id="successOrderNumber" class="info-value">PO-XXXX</span>
                                        <button class="btn-copy-inline" id="copyOrderBtn" title="Salin Nomor Order">
                                            <i data-lucide="copy" size="14"></i>
                                            <span>Salin</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="info-row-compact">
                                    <span class="label">Nomor Invoice</span>
                                    <div class="value-wrapper">
                                        <span id="successInvoiceNumber" class="info-value">INV-XXXX</span>
                                        <button class="btn-copy-inline" id="copyInvoiceBtn" title="Salin Nomor Invoice">
                                            <i data-lucide="copy" size="14"></i>
                                            <span>Salin</span>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="action-buttons-compact">
                                <a id="btnTrackLink" href="/track.html" class="btn btn-primary btn-track">
                                    <span>Lacak Pesanan</span>
                                </a>
                                <button onclick="location.reload()" class="btn btn-neutral btn-close-success">
                                    <span>Tutup</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer-main">
    <div class="container">
        <div class="footer-content-wrapper">
            <!-- Left Section: CTA -->
            <div class="footer-left">
                <span class="footer-small-label">HUBUNGI KAMI</span>
                <h2 class="footer-heading">Nikmati Kelezatan<br>Risol Mayo Premium.</h2>

                <a href="https://wa.me/6285173270984" target="_blank" class="btn-footer-cta">
                    Pesan Sekarang <i data-lucide="arrow-right"></i>
                </a>

                <div class="footer-email-section">
                    <span class="footer-small-label">ATAU EMAIL KAMI</span>
                    <div class="email-capsule">
                        <span>id.baitybites@gmail.com</span>
                        <button class="btn-copy-email"
                            onclick="navigator.clipboard.writeText('id.baitybites@gmail.com')">
                            <i data-lucide="copy"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Right Section: Links -->
            <div class="footer-right">
                <div class="footer-nav-col">
                    <h4>QUICK LINKS</h4>
                    <nav>
                        <a href="/">Home</a>
                        <a href="/order.html">Menu Risol</a>
                        <a href="/order.html">Kue Kering</a>
                        <a href="/track.html">Lacak Pesanan</a>
                    </nav>
                </div>
                <div class="footer-nav-col">
                    <h4>INFORMATION</h4>
                    <nav>
                        <a href="/tos.html">Terms of Service</a>
                        <a href="/privacy.html">Privacy Policy</a>
                        <a href="#">Cookies Settings</a>
                    </nav>
                </div>
            </div>
        </div>

        <div class="footer-divider"></div>

        <div class="footer-bottom">
            <p class="copyright">&copy; 2026 BAITYBITES. ALL RIGHTS RESERVED.</p>
            <div class="footer-socials">
                <a href="https://instagram.com/baitybites" target="_blank"><i data-lucide="instagram"></i></a>
                <a href="#"><i data-lucide="facebook"></i></a>
                <a href="#"><i data-lucide="twitter"></i></a>
            </div>
        </div>
    </div>
</footer>
    </div>

    <script src="/js/app.js?v=1.7.1"></script>
    <script src="/js/order.js?v=1.7.1"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (window.lucide) lucide.createIcons();
        });
    </script>
</body>

</html>